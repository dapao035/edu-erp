(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-student-new"],{"1b3d":function(A,t,e){var a=e("7da1");"string"===typeof a&&(a=[[A.i,a,""]]),a.locals&&(A.exports=a.locals);var n=e("4f06").default;n("5d9ce75a",a,!0,{sourceMap:!1,shadowMode:!1})},"395f":function(A,t,e){"use strict";e("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a="data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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",n={name:"u-avatar",props:{bgColor:{type:String,default:"transparent"},src:{type:String,default:""},size:{type:[String,Number],default:"default"},mode:{type:String,default:"circle"},text:{type:String,default:""},imgMode:{type:String,default:"aspectFill"},index:{type:[String,Number],default:""},sexIcon:{type:String,default:"man"},levelIcon:{type:String,default:"level"},levelBgColor:{type:String,default:""},sexBgColor:{type:String,default:""},showSex:{type:Boolean,default:!1},showLevel:{type:Boolean,default:!1}},data:function(){return{error:!1,avatar:this.src?this.src:a}},watch:{src:function(A){A?(this.avatar=A,this.error=!1):(this.avatar=a,this.error=!0)}},computed:{wrapStyle:function(){var A={};return A.height="large"==this.size?"120rpx":"default"==this.size?"90rpx":"mini"==this.size?"70rpx":this.size+"rpx",A.width=A.height,A.flex="0 0 ".concat(A.height),A.backgroundColor=this.bgColor,A.borderRadius="circle"==this.mode?"500px":"5px",this.text&&(A.padding="0 6rpx"),A},imgStyle:function(){var A={};return A.borderRadius="circle"==this.mode?"500px":"5px",A},uText:function(){return String(this.text)[0]},uSexStyle:function(){var A={};return this.sexBgColor&&(A.backgroundColor=this.sexBgColor),A},uLevelStyle:function(){var A={};return this.levelBgColor&&(A.backgroundColor=this.levelBgColor),A}},methods:{loadError:function(){this.error=!0,this.avatar=a},click:function(){this.$emit("click",this.index)}}};t.default=n},"5e40":function(A,t,e){"use strict";var a=e("92d6"),n=e.n(a);n.a},"689d":function(A,t,e){"use strict";e.r(t);var a=e("ad95"),n=e("f14c");for(var i in n)"default"!==i&&function(A){e.d(t,A,(function(){return n[A]}))}(i);e("db91");var r,o=e("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"3827d775",null,!1,a["a"],r);t["default"]=s.exports},"6c84":function(A,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return a}));var a={uAvatar:e("689d").default,uForm:e("ab27").default,uFormItem:e("b39e").default,uInput:e("b6e4").default},n=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e("v-uni-view",{staticClass:"bg-white u-p-b-30"},[e("v-uni-view",{staticClass:"u-avatar-wrap u-p-t-80",on:{click:function(t){arguments[0]=t=A.$handleEvent(t),A.changeavatar.apply(void 0,arguments)}}},[e("u-avatar",{attrs:{src:A.avatar,size:"150"}})],1),e("v-uni-view",{staticClass:"u-m-30"},[e("u-form",{ref:"uForm",attrs:{"label-width":"200"}},[e("u-form-item",{attrs:{label:"姓名"}},[e("u-input",{model:{value:A.name,callback:function(t){A.name=t},expression:"name"}})],1),e("u-form-item",{attrs:{label:"性别","right-icon":"arrow-down"}},[e("v-uni-picker",{staticStyle:{width:"100%"},attrs:{value:A.sexIndex,range:A.sex},on:{change:function(t){arguments[0]=t=A.$handleEvent(t),A.bindPickerChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input text-black"},[A._v(A._s(A.sex[A.sexIndex]))])],1)],1),e("u-form-item",{attrs:{label:"您的身份","right-icon":"arrow-down"}},[e("v-uni-picker",{staticStyle:{width:"100%"},attrs:{value:A.familyRelIndex,range:A.familyRel},on:{change:function(t){arguments[0]=t=A.$handleEvent(t),A.familyRelChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input text-black"},[A._v(A._s(A.familyRel[A.familyRelIndex]))])],1)],1),e("u-form-item",{attrs:{label:"身份证号"}},[e("u-input",{model:{value:A.idcard,callback:function(t){A.idcard=t},expression:"idcard"}})],1),e("u-form-item",{attrs:{label:"出生年月"}},[e("v-uni-picker",{staticStyle:{width:"100%"},attrs:{mode:"date",value:A.date,end:A.endDate},on:{change:function(t){arguments[0]=t=A.$handleEvent(t),A.birthdayChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input"},[A._v(A._s(A.date))])],1)],1),e("v-uni-view",{staticClass:"u-m-t-20"},[e("v-uni-button",{staticClass:"submitbtn",staticStyle:{"margin-top":"50rpx"},attrs:{disabled:A.disabled},on:{click:function(t){arguments[0]=t=A.$handleEvent(t),A.submit.apply(void 0,arguments)}}},[A._v("保 存")])],1),e("v-uni-view",{staticClass:"u-m-t-20 "},[e("v-uni-button",{staticClass:"submitbtn light",on:{click:function(t){arguments[0]=t=A.$handleEvent(t),A.handleDel.apply(void 0,arguments)}}},[A._v("移 除")])],1)],1)],1)],1)},i=[]},"6f3c":function(A,t,e){"use strict";e("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={components:{},data:function(){var A=this.getDate({format:!0});return{disabled:!1,avatar:"",idcard:"",name:"",sex:["男","女"],sexIndex:0,familyRel:["妈妈","爸爸","爷爷","奶奶","姥爷","姥姥","叔叔","姑姑","其他"],familyRelIndex:0,date:A,studentId:""}},computed:{endDate:function(){return this.getDate("end")}},onShow:function(){var A=uni.getStorageSync("avatar-tmp");""!=A&&(this.avatar=A)},onLoad:function(A){uni.removeStorageSync("avatar-path"),"undefined"!=typeof A.studentId&&(this.studentId=A.studentId,this.getStudentInfo(A.studentId)),uni.removeStorageSync("avatar-tmp")},methods:{getStudentInfo:function(A){var t=this;this.$http.get("sCenter/student/info",{id:A},(function(A){if(t.$common.handleResponseMsg(A)){for(var e in console.log(A),t.name=A.name,t.avatar=A.headImg,t.date=A.birthday,t.idcard=A.idcard,t.sex)if(t.sex[e]==A.gender){t.sexIndex=e;break}for(var a in t.familyRel)if(t.familyRel[a]==A.familyRel){t.familyRelIndex=a;break}}}))},handleUploaded:function(A){A[0]&&(this.uploadImg=A[0].url)},bindPickerChange:function(A){this.sexIndex=A.target.value},familyRelChange:function(A){this.familyRelIndex=A.target.value},changeavatar:function(){uni.navigateTo({url:"/pages/student/avatar"})},birthdayChange:function(A){this.date=A.target.value},submit:function(){var A=this,t={id:this.studentId,name:this.name,gender:this.sex[this.sexIndex],familyRel:this.familyRel[this.familyRelIndex],headImg:this.avatar,idcard:this.idcard,birthday:this.date};""!=t.name?""!=t.gender?(this.disabled=!0,this.$http.post("sCenter/student/register",t,(function(t){A.disabled=!1,A.$common.handleResponseMsg(t)&&0==t.errCode&&(A.$common.showMsg(t.msg),uni.navigateTo({url:"/pages/student/index"}))}))):this.$common.showMsg("未选择性别"):this.$common.showMsg("缺少姓名")},getDate:function(A){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate();return a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(e,"-").concat(a,"-").concat(n)},handleDel:function(){var A=this;this.$common.showAlert("操作提示","确认移除该学员?",(function(){A.$http.get("sCenter/student/deleteStudent",{id:A.studentId},(function(t){A.$common.handleResponseMsg(t)&&0==t.errCode&&(A.$common.showMsg(t.msg),uni.navigateTo({url:"/pages/student/index"}))}))}))}}};t.default=a},"7da1":function(A,t,e){var a=e("24fb");t=a(!1),t.push([A.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-avatar[data-v-3827d775]{display:inline-flex;align-items:center;justify-content:center;font-size:%?28?%;color:#606266;border-radius:10px;position:relative}.u-avatar__img[data-v-3827d775]{width:100%;height:100%}.u-avatar__sex[data-v-3827d775]{position:absolute;width:%?32?%;color:#fff;height:%?32?%;display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:%?100?%;top:5%;z-index:1;right:-7%;border:1px #fff solid}.u-avatar__sex--man[data-v-3827d775]{background-color:#2ac79f}.u-avatar__sex--woman[data-v-3827d775]{background-color:#fa3534}.u-avatar__sex--none[data-v-3827d775]{background-color:#f90}.u-avatar__level[data-v-3827d775]{position:absolute;width:%?32?%;color:#fff;height:%?32?%;display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:%?100?%;bottom:5%;z-index:1;right:-7%;border:1px #fff solid;background-color:#f90}',""]),A.exports=t},8264:function(A,t,e){var a=e("24fb");t=a(!1),t.push([A.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */uni-page-body[data-v-7cc828c0]{background-color:#ededed}.camera[data-v-7cc828c0]{width:54px;height:44px}.camera[data-v-7cc828c0]:active{background-color:#ededed}.user-box[data-v-7cc828c0]{background-color:#fff}.u-avatar-wrap[data-v-7cc828c0]{overflow:hidden;margin-bottom:%?80?%;text-align:center}body.?%PAGE?%[data-v-7cc828c0]{background-color:#ededed}',""]),A.exports=t},"92d6":function(A,t,e){var a=e("8264");"string"===typeof a&&(a=[[A.i,a,""]]),a.locals&&(A.exports=a.locals);var n=e("4f06").default;n("2c61c6d5",a,!0,{sourceMap:!1,shadowMode:!1})},ad95:function(A,t,e){"use strict";e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return a}));var a={uIcon:e("e4cd").default},n=function(){var A=this,t=A.$createElement,e=A._self._c||t;return e("v-uni-view",{staticClass:"u-avatar",style:[A.wrapStyle],on:{click:function(t){arguments[0]=t=A.$handleEvent(t),A.click.apply(void 0,arguments)}}},[!A.uText&&A.avatar?e("v-uni-image",{staticClass:"u-avatar__img",style:[A.imgStyle],attrs:{src:A.avatar,mode:A.imgMode},on:{error:function(t){arguments[0]=t=A.$handleEvent(t),A.loadError.apply(void 0,arguments)}}}):A.uText?e("v-uni-text",{staticClass:"u-line-1",style:{fontSize:"38rpx"}},[A._v(A._s(A.uText))]):A._t("default"),A.showSex?e("v-uni-view",{staticClass:"u-avatar__sex",class:["u-avatar__sex--"+A.sexIcon],style:[A.uSexStyle]},[e("u-icon",{attrs:{name:A.sexIcon,size:"20"}})],1):A._e(),A.showLevel?e("v-uni-view",{staticClass:"u-avatar__level",style:[A.uLevelStyle]},[e("u-icon",{attrs:{name:A.levelIcon,size:"20"}})],1):A._e()],2)},i=[]},c1fe:function(A,t,e){"use strict";e.r(t);var a=e("6c84"),n=e("cd19");for(var i in n)"default"!==i&&function(A){e.d(t,A,(function(){return n[A]}))}(i);e("5e40");var r,o=e("f0c5"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"7cc828c0",null,!1,a["a"],r);t["default"]=s.exports},cd19:function(A,t,e){"use strict";e.r(t);var a=e("6f3c"),n=e.n(a);for(var i in a)"default"!==i&&function(A){e.d(t,A,(function(){return a[A]}))}(i);t["default"]=n.a},db91:function(A,t,e){"use strict";var a=e("1b3d"),n=e.n(a);n.a},f14c:function(A,t,e){"use strict";e.r(t);var a=e("395f"),n=e.n(a);for(var i in a)"default"!==i&&function(A){e.d(t,A,(function(){return a[A]}))}(i);t["default"]=n.a}}]);