(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-homework-new"],{3345:function(e,t,o){var n=o("f34e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=o("4f06").default;a("135632c6",n,!0,{sourceMap:!1,shadowMode:!1})},"39b2":function(e,t,o){"use strict";o.r(t);var n=o("5626"),a=o("8706");for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("70b0");var r,s=o("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"64c4f8a6",null,!1,n["a"],r);t["default"]=u.exports},5626:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var n={uniNavBar:o("a3fc").default,uForm:o("ab27").default,uUpload:o("8ba9").default,uFormItem:o("b39e").default,uInput:o("b6e4").default,uIcon:o("e4cd").default},a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("uni-nav-bar",{attrs:{"left-icon":"arrow-left","left-text":"",title:"交作业"},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.clickLeft.apply(void 0,arguments)}}}),o("v-uni-view",{staticClass:"bg-white u-padding-30"},[o("u-form",{ref:"uForm",attrs:{model:e.model,rules:e.rules,errorType:e.errorType}},[o("u-upload",{ref:"uUpload",attrs:{action:e.action,header:e.header,"file-list":e.fileList,"max-size":10485760,"max-count":"6","auto-upload":!0},on:{"on-success":function(t){arguments[0]=t=e.$handleEvent(t),e.uploadSuccess.apply(void 0,arguments)},"on-error":function(t){arguments[0]=t=e.$handleEvent(t),e.uploadError.apply(void 0,arguments)},"on-remove":function(t){arguments[0]=t=e.$handleEvent(t),e.onRemove.apply(void 0,arguments)},"on-uploaded":function(t){arguments[0]=t=e.$handleEvent(t),e.onUploaded.apply(void 0,arguments)}}}),o("u-form-item",{attrs:{label:"",prop:"content"}},[o("u-input",{attrs:{type:"textarea",autoHeight:!0},model:{value:e.model.content,callback:function(t){e.$set(e.model,"content",t)},expression:"model.content"}})],1)],1),o("v-uni-view",{staticClass:"fix-bottom-buttons"},[o("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toSubmit.apply(void 0,arguments)}}},[o("u-icon",{staticClass:"icon",attrs:{name:"checkbox-mark",color:"#ffffff",size:30}}),e._v("提交作业")],1)],1),o("v-uni-view",{staticClass:"fix-bottom-buttons-box"})],1)],1)},i=[]},"6f73":function(e,t,o){"use strict";var n=o("dbce"),a=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(o("b85c"));o("96cf");var r=a(o("1da1")),s=o("a414"),u=(n(o("3173")),{components:{},data:function(){return{id:"",action:s.baseUrl+"sCenter/upload",header:{},fileList:[],uploadList:[],model:{content:""},rules:{content:[{required:!0,message:"请输入内容",trigger:["change","blur"]}]},errorType:["message"]}},onLoad:function(e){this.id=e.id,this.getHeader()},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{getHeader:function(){this.header=this.$common.getRequestHeader()},chooseStartDate:function(e){this.model.startDate=e.year+"-"+e.month+"-"+e.day},chooseExpiredDate:function(e){this.model.expireDate=e.year+"-"+e.month+"-"+e.day},chooseStudent:function(e){this.model.studentName=e},chooseCourse:function(e){this.model.courseName=e,this.getCourseInfo(e)},getCourseInfo:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),uploadSuccess:function(e,t,o,n){this.makeUploadList(o)},onRemove:function(e,t,o){this.makeUploadList(t)},makeUploadList:function(e){var t,o=[],n=(0,i.default)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.response){if(0!=a.response.errCode)return void this.$common.showMsg(a.response.msg);o.push(a.response.data)}}}catch(r){n.e(r)}finally{n.f()}this.uploadList=o},uploadError:function(e){this.$common.showMsg("上传出错")},onUploaded:function(e,t){this.makeUploadList(e)},toSubmit:function(){var e=this,t=[];if(this.uploadList.length>0){var o,n=(0,i.default)(this.uploadList);try{for(n.s();!(o=n.n()).done;){var a=o.value;t.push(a.url)}}catch(r){n.e(r)}finally{n.f()}}this.$refs.uForm.validate((function(o){if(o){var n={homeworkId:e.id,content:e.model.content,imgList:t};e.$http.post("sCenter/homework/saveRecord",n,(function(t){e.$common.handleResponseMsg(t)&&e.$common.showSuccess("提交成功",(function(){e.clickLeft()}))}),!1)}else console.log("验证失败")}))},clickLeft:function(){uni.navigateTo({url:"/pages/homework/detail?id="+this.id})},clickRight:function(){uni.navigateTo({url:"/pages/contract/index"})}}});t.default=u},"70b0":function(e,t,o){"use strict";var n=o("3345"),a=o.n(n);a.a},8706:function(e,t,o){"use strict";o.r(t);var n=o("6f73"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},f34e:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */uni-page-body[data-v-64c4f8a6]{background-color:#fff}body.?%PAGE?%[data-v-64c4f8a6]{background-color:#fff}',""]),e.exports=t}}]);