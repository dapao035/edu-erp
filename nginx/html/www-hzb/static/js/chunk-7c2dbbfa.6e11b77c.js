(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c2dbbfa"],{"09bd":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("cui-search",{attrs:{config:e.searchConfig},on:{handleRequest:e.handleRequest}}),n("cui-table",{ref:"tableBuilder",attrs:{config:e.tableConfig,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t}}}),n("cui-dialog-form",{ref:"cuiDialogForm",attrs:{title:e.formTitle,formConfig:e.formConfig,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},onSubmit:e.onSubmit}})],1)},i=[],a=n("1da1"),c=n("ade3"),o=n("5530"),u=(n("96cf"),n("d282")),l=n("ed08"),s=n("cf45"),d=n("2934"),m=n("9b2e"),f={handleOpen:function(e,t){Object(s["a"])(e,"请先选择项目")&&Object(d["c"])("确认启用?",m["d"],e,t)},handleClose:function(e,t){Object(s["a"])(e,"请先选择项目")&&Object(d["c"])("确认禁用?",m["a"],e,t)}},p={components:{},props:{},data:function(){var e,t=this,n=this.$createElement;return e={formTitle:"",tableConfig:{url:u["a"].creditGifts,selectable:!0,condition:{},fields:[{title:"图片",content:function(e){return n("el-image",{style:{width:"60px"},attrs:{src:e.cover}})},width:80},{title:"礼品名称",name:"name"},{title:"所属学校",name:"schoolName"},{title:"兑换所需积分",name:"credit"},{title:"已兑换数量",name:"saleNum"},{title:"浏览次数",name:"viewNum"},{title:"最后编辑时间",name:"eidtTime"},{title:"状态",name:"state"}],actionWidth:"160px",actions:[{title:"编辑",click:function(e){t.formVisible=!0,t.formTitle="修改礼品",t.$refs.cuiDialogForm.initFormData(Object(o["a"])({},e))}}],topActions:[{title:"新增",icon:"el-icon-plus",type:"primary",click:function(){t.formVisible=!0,t.formTitle="新增礼品",t.$refs.cuiDialogForm.onReset()}},{title:"删除",icon:"el-icon-delete",click:function(){Object(d["d"])(m["b"],t.selectedRows,(function(){return t.handleRequest()}))}},{title:"启用",icon:"el-icon-check",click:function(){f.handleOpen(t.selectedRows,(function(){return t.handleRequest()}))}},{title:"禁用",icon:"el-icon-close",click:function(){f.handleClose(t.selectedRows,(function(){return t.handleRequest()}))}}],rowClassName:function(e){var t=e.row;return"禁用"==t.state?"gray-row":""}},selectedRows:[],searchConfig:{fields:[{label:"礼品名称",name:"name",type:"input"},{label:"状态",name:"stateText",type:"enum",code:"SwitchEnum"}]}},Object(c["a"])(e,"formTitle",""),Object(c["a"])(e,"formConfig",{fields:[{label:"礼品名称",name:"name",type:"input"},{label:"选择物料",name:"materialId",type:"selectBox",code:"material",limit:1},{label:"所属分类",name:"categoryId",type:"dict",code:"credit_mall_category"},{label:"兑换积分",name:"credit",type:"number"},{label:"礼品说明",name:"content",type:"textarea"}],rules:{name:[{required:!0,message:"请输入名称"}],materialId:[{required:!0,message:"请选择物料"}],categoryId:[{required:!0,message:"请选择所属分类"}],credit:[{required:!0,message:"请输入兑换积分"}]}}),Object(c["a"])(e,"formVisible",!1),e},methods:{handleRequest:function(e){e&&Object.assign(this.tableConfig.condition,e),this.$refs.tableBuilder.loadData()},onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["e"])(t);case 2:n=e.sent,Object(l["a"])(n)&&(this.$refs.cuiDialogForm.onReset(),this.$refs.tableBuilder.loadData());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},b=p,h=n("2877"),w=Object(h["a"])(b,r,i,!1,null,"3d97f395",null);t["default"]=w.exports},"9b2e":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n("1da1"),i=(n("96cf"),n("b775"));function a(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/creditMall/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/creditMall/open",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/creditMall/close",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/creditMall/delete",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/creditMall/exchangeAudit",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}}}]);