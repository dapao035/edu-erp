(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-383cec9e"],{"0217":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("cui-search",{attrs:{config:e.searchConfig},on:{handleRequest:e.handleRequest}}),n("cui-table",{ref:"tableBuilder",attrs:{config:e.tableConfig,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t}}}),n("cui-dialog-form",{ref:"cuiDialogForm",attrs:{title:"请款信息",formConfig:e.formConfig,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},onSubmit:e.onSubmit}}),n("cui-dialog",{attrs:{title:"请款信息详情",visible:e.detailVisible,width:"800px",showSubmitBtn:!1},on:{"update:visible":function(t){e.detailVisible=t}}},[n("cui-detail",{attrs:{config:e.detailConfig}}),e.attachmentIds&&e.attachmentIds.length>0?n("div",{staticStyle:{padding:"10px"}},[n("div",{staticStyle:{"font-size":"12px"}},[e._v("附件:")]),e._l(e.attachmentIds,(function(e,t){return n("div",{key:t},[n("fileList",{key:e,attrs:{fileId:e}})],1)}))],2):e._e()],1)],1)},i=[],r=n("1da1"),c=n("5530"),o=(n("96cf"),n("ac1f"),n("1276"),n("d282")),s=n("ed08"),l=n("d0d5"),u=n("cf45"),m=n("f5a1"),d={name:"myCashout",components:{fileList:m["a"]},props:{},data:function(){var e=this,t=this.$createElement;return{tableConfig:{url:o["a"].cashoutMine,selectable:!0,condition:{},showSummary:!0,summaryFields:["amount"],fields:[{title:"请款项目",name:"title"},{title:"款项类型",name:"typeName",width:70},{title:"申请人",name:"staffName",width:70},{title:"收款人",name:"payeeName",width:70},{title:"请款金额",name:"amount",align:"right",width:70},{title:"申请时间",name:"addTime",width:110},{title:"收款账号",name:"account"},{title:"请款说明",name:"info"},{title:"审核状态",name:"verifyState",width:75},{title:"审核信息",width:110,content:function(e){return t("span",[e.verifyStaffName," ",e.verifyTime,t("br"),e.verifyRemark])}}],actions:[{title:"修改",visible:function(e){return"待审核"==e.verifyState},click:function(t){var n=Object(c["a"])({},t);e.formVisible=!0,n.attachFile&&(n.attachFile=n.attachFile.split(",")),e.$refs.cuiDialogForm.initFormData(n)}},{title:"作废",visible:function(e){return"待审核"==e.verifyState},click:function(t){e.handleCancel(t.id)}},{title:"查看",click:function(t){e.attachmentIds=[],e.loadInfo(t.id),e.detailVisible=!0}}],topActions:[{title:"请款申请",type:"primary",icon:"el-icon-plus",click:function(){e.handleAdd()}}],rowClassName:function(e){var t=e.row;return"已驳回"==t.verifyState?"warning-row":"审核通过"==t.verifyState?"success-row":""}},selectedRows:[],searchConfig:{fields:[{label:"开始日期",name:"startDate",type:"date"},{label:"开始结束",name:"endDate",type:"date"},{label:"审核状态",name:"state",type:"enum",code:"VerifyStateEnum"}]},formConfig:{fields:[{label:"请款项目",name:"title",type:"input"},{label:"请款类型",name:"type",type:"dict",code:"cashout_type"},{label:"请款说明",name:"info",type:"textarea"},{label:"收款人",name:"payeeName",type:"input"},{label:"请款金额",name:"amount",type:"money"},{label:"收款账号",name:"account",type:"input"},{label:"附件",name:"attachFile",type:"file",limit:5,info:"支持图片和word、excel、pdf类型"}],rules:{title:[{required:!0,message:"请输入标题"}],type:[{required:!0,message:"请选择请款类型"}],payeeName:[{required:!0,message:"请输入收款人"}],amount:[{required:!0,message:"请输入请款金额"}],account:[{required:!0,message:"请输入收款账号"}]},labelWidth:"100px"},formVisible:!1,detailVisible:!1,detailConfig:{record:{},fields:[{label:"请款项目",name:"title"},{label:"款项类型",name:"typeName"},{label:"申请人",name:"staffName"},{label:"收款人",name:"payeeName"},{label:"请款金额",name:"amount",align:"right"},{label:"申请时间",name:"addTime"},{label:"收款账号",name:"account"},{label:"请款说明",name:"info"},{label:"审核状态",name:"verifyState"},{label:"审核人",name:"verifyStaffName"},{label:"审核时间",name:"verifyTime"},{label:"审核备注",name:"verifyRemark",width:"100%"}]},attachmentIds:[]}},methods:{handleRequest:function(e){e&&Object.assign(this.tableConfig.condition,e),this.$refs.tableBuilder.loadData()},handleAdd:function(){this.formVisible=!0,this.$refs.cuiDialogForm.onReset()},handleCancel:function(e){var t=this;Object(u["b"])("确认作废",Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["c"])(e);case 2:a=n.sent,Object(s["a"])(a)&&(Object(u["e"])(a.msg),t.$refs.tableBuilder.loadData());case 4:case"end":return n.stop()}}),n)}))))},onSubmit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["e"])(t);case 2:n=e.sent,Object(s["a"])(n)&&(this.$refs.cuiDialogForm.onReset(),this.$refs.tableBuilder.loadData());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadInfo:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])(t);case 2:n=e.sent,this.detailConfig.record=n,n.attachFile&&(this.attachmentIds=n.attachFile.split(","));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},f=d,p=n("2877"),h=Object(p["a"])(f,a,i,!1,null,null,null);t["default"]=h.exports},d0d5:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var a=n("1da1"),i=(n("96cf"),n("b775"));function r(e){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/cashout/info",method:"get",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/cashout/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/cashout/delete/"+t,method:"post"}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/cashout/pass",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e,t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/cashout/reject",method:"post",data:{ids:t,content:n}}));case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}}}]);