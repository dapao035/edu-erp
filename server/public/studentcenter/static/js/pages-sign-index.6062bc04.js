(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-sign-index"],{"137e":function(t,i,e){"use strict";var n;e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content bg-white"},[e("v-uni-view",[e("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"cuIcon-title text-blue "}),t._v("签到")],1),e("v-uni-view",{staticClass:"action"})],1),e("v-uni-view",{staticClass:"padding align-center justify-center flex"},[0==t.state&&0!=t.stage[0]?e("v-uni-button",{staticClass:"cu-btn big-btn bg-blue text-center  align-center justify-center flex shadow-blur shadow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.signDo.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text-white text-lg text-bold",staticStyle:{"font-size":"40rpx"}},[e("v-uni-view",[t._v("签 到")]),e("v-uni-view",{staticClass:"margin-top-sm"},[t._v(t._s(t.showTime))])],1)],1):t._e(),1==t.state||0==t.stage[0]?e("v-uni-button",{staticClass:"cu-btn big-btn bg-gray text-center align-center justify-center flex shadow"},[e("v-uni-view",{staticClass:"text-lg text-bold",staticStyle:{"font-size":"40rpx"}},[e("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(0==t.stage[0]?"未到时间":"已 签"))])],1)],1):t._e()],1),e("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"cuIcon-title text-blue "}),t._v("班级信息:")],1),e("v-uni-view",{staticClass:"action"})],1),e("v-uni-view",{staticClass:"padding"},[e("v-uni-view",{staticClass:"margin-bottom-sm"},[t._v("名称: "+t._s(t.info.name))]),e("v-uni-view",[e("v-uni-text",[t._v("起始日期:")]),t._v(t._s(t.info.start_date)+" ~ "+t._s(t.info.end_date))],1),e("v-uni-view",[e("v-uni-text",[t._v("第1次签到:")]),t._v(t._s(t.info.sign_start1)),e("v-uni-text",{staticClass:"margin-left"},[t._v("第1次签退:")]),t._v(t._s(t.info.sign_end1))],1),t.info.sign_start2&&t.info.sign_end2?e("v-uni-view",[e("v-uni-text",[t._v("第2次签到:")]),t._v(t._s(t.info.sign_start2)),e("v-uni-text",{staticClass:"margin-left"},[t._v("第2次签退:")]),t._v(t._s(t.info.sign_end2))],1):t._e()],1),e("v-uni-view",{staticClass:"padding text-center text-blue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showList.apply(void 0,arguments)}}},[t._v("我的签到记录")])],1)],1)},a=[]},"2c14":function(t,i,e){"use strict";e.r(i);var n=e("137e"),s=e("9126");for(var a in s)"default"!==a&&function(t){e.d(i,t,(function(){return s[t]}))}(a);e("d05c");var o,u=e("f0c5"),c=Object(u["a"])(s["default"],n["b"],n["c"],!1,null,"4762af8a",null,!1,n["a"],o);i["default"]=c.exports},"729a":function(t,i,e){"use strict";var n=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(e("8981")),a={data:function(){return{pageData:{page:1,lastPage:1}}},onReachBottom:function(){this.handleReachBottom()},methods:{foo:function(){console.log("foo")},handleReachBottom:function(){this.pageData.lastPage!=this.pageData.page&&(this.pageData.lastPage>this.pageData.page?(this.pageData.page++,this.handleReq()):s.default.showError("没有更多数据"))}}};i.default=a},9126:function(t,i,e){"use strict";e.r(i);var n=e("c44b"),s=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=s.a},"920e":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".big-btn[data-v-4762af8a]{border-radius:50%;width:200px;height:200px;margin-top:30%;margin-bottom:30%}",""]),t.exports=i},c44b:function(t,i,e){"use strict";var n=e("4ea4"),s=e("dbce");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("8981")),o=s(e("0a50")),u=n(e("729a")),c={mixins:[u.default],components:{},data:function(){return{info:{},stage:[0,0],state:0,showTime:""}},onLoad:function(t){this.handleReq(t.id),uni.setNavigationBarTitle({title:"班级签到"})},methods:{handleReq:function(t){var i=this;t||a.showError("缺少参数"),this.classId=t,o.get("student/clazzSignInfo",{id:t},(function(t){"success"==t.result?(i.info=t.data.info,i.stage=t.data.stage,i.state=t.data.state,1==i.stage[1]&&(i.showTime=i.info.sign_start1),2==i.stage[1]&&(i.showTime=i.info.sign_end1),i.info.sign_start2&&i.info.sign_end2&&(3==i.stage[1]&&(i.showTime=i.info.sign_start2),4==i.stage[1]&&(i.showTime=i.info.sign_end2))):a.showError(t.msg)}))},signDo:function(){var t=this;o.post("student/signDo",{id:this.classId},(function(i){"success"==i.result?a.showSuccess(i.msg):a.showError(i.msg),t.handleReq(t.classId)}))},showList:function(){uni.navigateTo({url:"/pages/sign/list",animationDuration:200})}}};i.default=c},c923:function(t,i,e){var n=e("920e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("4f06").default;s("0d7411e1",n,!0,{sourceMap:!1,shadowMode:!1})},d05c:function(t,i,e){"use strict";var n=e("c923"),s=e.n(n);s.a}}]);