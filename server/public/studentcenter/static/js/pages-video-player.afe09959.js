(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-video-player"],{"08b8":function(t,n,i){"use strict";i.r(n);var e=i("818b"),a=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(n,t,(function(){return e[t]}))}(s);n["default"]=a.a},3314:function(t,n,i){"use strict";var e;i.d(n,"b",(function(){return a})),i.d(n,"c",(function(){return s})),i.d(n,"a",(function(){return e}));var a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"cu-card dynamic no-card margin-bottom-sm"},[i("v-uni-view",{staticClass:"cu-item shadow padding-top"},[i("v-uni-view",{staticClass:"text-content"},[t._v(t._s(t.info.title))]),i("v-uni-view",{staticClass:"grid flex-sub padding-lr col-3 grid-square"},[i("v-uni-video",{staticStyle:{width:"100%",height:"391upx"},attrs:{id:"myVideo",src:t.info.video_url,controls:!0},on:{play:function(n){arguments[0]=n=t.$handleEvent(n),t.onPlay.apply(void 0,arguments)},pause:function(n){arguments[0]=n=t.$handleEvent(n),t.onPause.apply(void 0,arguments)},error:function(n){arguments[0]=n=t.$handleEvent(n),t.videoErrorCallback.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"text-gray padding-sm margin-top-sm"},[i("v-uni-view",{staticClass:"flex justify-around text-sm"},[i("v-uni-view",[t._v(t._s(t.info.count)+"人参与")]),i("v-uni-view",{staticClass:"text-green"},[t._v("已学"+t._s(t.percent)+"%")])],1)],1)],1)],1),t.isDone?i("v-uni-view",{staticClass:"padding flex flex-direction",staticStyle:{width:"100%","padding-top":"0"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goBack.apply(void 0,arguments)}}},[i("v-uni-button",{staticClass:"cu-btn bg-green lg shadow"},[t._v("已学完")])],1):t._e(),i("v-uni-view",{staticClass:"cu-bar bg-white "},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-title text-orange "}),t._v("课程简介")],1)],1),i("v-uni-view",{staticClass:"bg-white padding"},[i("v-uni-view",{domProps:{innerHTML:t._s(t.info.content)}}),""==t.info.content?i("v-uni-view",[t._v("暂无简介")]):t._e()],1)],1)},s=[]},"818b":function(t,n,i){"use strict";var e=i("dbce");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e(i("8981")),s=e(i("0a50")),o={components:{},data:function(){return{id:"",isDone:!1,info:{},timer:null,pasedSeconds:0,percent:0}},onLoad:function(t){this.pasedSeconds=0,this.id=t.id,this.handleReq(),uni.setNavigationBarTitle({title:"视频学习"})},onBackPress:function(){this.init()},watch:{isDone:function(t){1==t&&this.init()}},methods:{init:function(){clearInterval(this.timer)},videoErrorCallback:function(t){console.log(t)},handleReq:function(){var t=this;s.get("student/vcourseDetail",{id:this.id},(function(n){"success"==n.result?(t.info=n.data,t.isDone=1==n.data.is_done,t.percent=n.data.percent):a.showError(n.msg)}))},onPlay:function(t){this.loopHandler()},onPause:function(t){clearInterval(this.timer)},loopHandler:function(){var t=this;1!=this.isDone&&(this.timer=setInterval((function(){t.pasedSeconds++,t.pasedSeconds%5==0&&t.playLoop()}),1e3))},playLoop:function(){var t=this;s.get("student/playLoop",{id:this.id,sec:this.pasedSeconds},(function(n){"success"==n.result?(1==n.data.done&&t.isDone,t.percent=n.data.percent):a.showError(n.msg)}),!0)},goBack:function(){this.init(),uni.navigateTo({url:"/pages/video/index",animationDuration:200})}}};n.default=o},"8abb":function(t,n,i){"use strict";i.r(n);var e=i("3314"),a=i("08b8");for(var s in a)"default"!==s&&function(t){i.d(n,t,(function(){return a[t]}))}(s);var o,c=i("f0c5"),r=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,"aed706c0",null,!1,e["a"],o);n["default"]=r.exports}}]);