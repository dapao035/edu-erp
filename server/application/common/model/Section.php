<?phpnamespace app\common\model;use think\Db;class Section extends BaseModel{    protected $table = 'section';    const WORDS_IMP = 1; // 重点词汇    const SENTENCE_IMP = 2; // 重点句型    const WORDS_ATT = 3; // 附加词汇    const SENTENCE_ATT = 4; // 附加句型    const PRONUNCIATION = 5; // 发音    function category()    {        return $this->belongsTo(SectionCategory::class, 'category_id');    }    function knowledge()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id');    }    function knWordsImp()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id')->where('type', self::WORDS_IMP);    }    function knSentenceImp()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id')->where('type', self::SENTENCE_IMP);    }    function knWordsAtt()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id')->where('type', self::WORDS_ATT);    }    function knSentenceAtt()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id')->where('type', self::SENTENCE_ATT);    }    function pronunciation()    {        return $this->belongsToMany(Knowledge::class, 'knowledge_section', 'knowledge_id', 'section_id')->where('type', self::PRONUNCIATION);    }    function test()    {        return $this->belongsToMany(Test::class, 'section_test', 'test_id', 'section_id');    }    function h5()    {        return $this->belongsToMany(H5::class, 'section_h5', 'h5_id', 'section_id');    }    // 删除关联    static function deleteRel($id)    {        Db::name('knowledge_section')->where('section_id', $id)->delete();        Db::name('section_test')->where('section_id', $id)->delete();        Db::name('section_h5')->where('section_id', $id)->delete();    }    // 删除    static function doDel($id)    {        static::deleteRel($id);        return static::destroy($id);    }    static function getList($where = [], $order = '')    {        return self::where($where)            ->order($order ? $order : 'id desc')            ->field('id,title')            ->select();    }}