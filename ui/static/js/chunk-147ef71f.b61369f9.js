(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-147ef71f"],{"0d32":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("cui-search",{attrs:{config:e.searchConfig,showExport:!0},on:{handleRequest:e.handleRequest,handleExport:e.handleExport}}),n("cui-table",{ref:"tableBuilder",attrs:{config:e.tableConfig,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t}}}),n("cui-dialog",{attrs:{title:"请款信息详情",visible:e.detailVisible,width:"800px",showSubmitBtn:!1},on:{"update:visible":function(t){e.detailVisible=t}}},[n("cui-detail",{attrs:{config:e.detailConfig}}),e.attachmentIds&&e.attachmentIds.length>0?n("div",{staticStyle:{padding:"10px"}},[n("div",{staticStyle:{"font-size":"12px"}},[e._v("附件:")]),e._l(e.attachmentIds,(function(e,t){return n("div",{key:t},[n("fileList",{key:e,attrs:{fileId:e}})],1)}))],2):e._e()],1)],1)},r=[],i=n("1da1"),c=(n("96cf"),n("ac1f"),n("1276"),n("d282")),o=n("a587"),u=n("cf45"),s=n("d0d5"),l=n("f5a1"),d={name:"cashoutList",components:{fileList:l["a"]},props:{},data:function(){var e=this,t=this.$createElement;return{tableConfig:{url:c["a"].cashoutList,selectable:!0,condition:{},fields:[{title:"请款项目",name:"title"},{title:"款项类型",name:"typeName",width:70},{title:"申请人",name:"staffName",width:70},{title:"收款人",name:"payeeName",width:70},{title:"请款金额",name:"amount",align:"right",width:70},{title:"申请时间",name:"addTime",width:110},{title:"收款账号",name:"account"},{title:"请款说明",name:"info"},{title:"审核状态",name:"verifyState",width:75},{title:"审核信息",width:110,content:function(e){return t("span",[e.verifyStaffName,t("br"),e.verifyTime,t("br"),e.verifyRemark])}}],actions:[{title:"查看",click:function(t){e.attachmentIds=[],e.loadInfo(t.id),e.detailVisible=!0}}],topActions:[{title:"批量通过",icon:"el-icon-check",type:"primary",click:function(){o["a"].handleCashoutPass(e.selectedRows,(function(){return e.handleRequest()}))}},{title:"批量驳回",icon:"el-icon-close",type:"primary",click:function(){o["a"].handleCashoutReject(e.selectedRows,(function(){return e.handleRequest()}))}}],rowClassName:function(e){var t=e.row;return"已驳回"==t.verifyState?"warning-row":"审核通过"==t.verifyState?"success-row":""},showSummary:!0,summaryFields:["amount"]},selectedRows:[],searchConfig:{fields:[{label:"请款项目",name:"title",type:"input"},{label:"请款类型",name:"type",type:"dict",code:"cashout_type"},{label:"申请人",name:"staffId",type:"selectBox",code:"staff",limit:1},{label:"收款人",name:"payee",type:"input"},{label:"开始日期",name:"startDate",type:"date",hidden:!0},{label:"开始结束",name:"endDate",type:"date",hidden:!0},{label:"审核状态",name:"state",type:"enum",code:"VerifyStateEnum",hidden:!0}]},detailVisible:!1,detailConfig:{record:{},fields:[{label:"请款项目",name:"title"},{label:"款项类型",name:"typeName"},{label:"申请人",name:"staffName"},{label:"收款人",name:"payeeName"},{label:"请款金额",name:"amount",align:"right"},{label:"申请时间",name:"addTime"},{label:"收款账号",name:"account"},{label:"请款说明",name:"info"},{label:"审核状态",name:"verifyState"},{label:"审核人",name:"verifyStaffName"},{label:"审核时间",name:"verifyTime"},{label:"审核备注",name:"verifyRemark",width:"100%"}]},attachmentIds:[]}},methods:{handleRequest:function(e){e&&Object.assign(this.tableConfig.condition,e),this.$refs.tableBuilder.loadData()},handleExport:function(e){Object(u["h"])(c["a"].cashoutList,e),e.export=""},loadInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])(t);case 2:n=e.sent,this.detailConfig.record=n,n.attachFile&&(this.attachmentIds=n.attachFile.split(","));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},f=d,p=n("2877"),m=Object(p["a"])(f,a,r,!1,null,null,null);t["default"]=m.exports},a587:function(e,t,n){"use strict";var a=n("cf45"),r=n("2934"),i=n("1da1"),c=(n("96cf"),n("b775"));function o(e){return u.apply(this,arguments)}function u(){return u=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])({url:"/common/financeRecord/pass",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(e,t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])({url:"/common/financeRecord/reject",method:"post",data:{ids:t,content:n}}));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}var d=n("d0d5");t["a"]={handlePass:function(e,t){Object(a["a"])(e,"请先选择")&&Object(r["b"])("确认认款操作?",o,e,t)},handleReject:function(e,t){Object(a["a"])(e,"请先选择")&&Object(r["e"])("请输入拒收理由:",s,e,t)},handleCashoutPass:function(e,t){Object(a["a"])(e,"请先选择")&&Object(r["b"])("确认审核通过?",d["a"],e,t)},handleCashoutReject:function(e,t){Object(a["a"])(e,"请先选择")&&Object(r["e"])("请输入驳回理由:",d["b"],e,t)}}},d0d5:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var a=n("1da1"),r=(n("96cf"),n("b775"));function i(e){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["a"])({url:"/common/cashout/info",method:"get",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["a"])({url:"/common/cashout/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["a"])({url:"/common/cashout/delete/"+t,method:"post"}));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["a"])({url:"/common/cashout/pass",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(r["a"])({url:"/common/cashout/reject",method:"post",data:{ids:t,content:n}}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}}}]);