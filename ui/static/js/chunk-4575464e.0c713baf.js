(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4575464e"],{"4ce0":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("cui-search",{attrs:{config:e.searchConfig},on:{handleRequest:e.handleRequest}}),n("cui-table",{ref:"tableBuilder",attrs:{config:e.tableConfig,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t}}}),n("cui-dialog-form",{ref:"cuiDialogForm",attrs:{title:e.formTitle,formConfig:e.formConfig,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},onSubmit:e.onSubmit}})],1)},a=[],o=n("1da1"),i=(n("96cf"),n("b0c0"),n("d282")),s=n("fcd9"),c=n("fbf3"),u=n("2934"),l=n("ed08"),d={name:"StudentCourse",components:{},props:{},data:function(){var e=this,t=this.$createElement;return{formTitle:"",tableConfig:{url:i["a"].classList,selectable:!0,condition:{},fields:[{title:"班级名称",content:function(n){return t("span",{class:"text-link",on:{click:function(){return e.$router.push("/course/classDetail?id="+n.id)}}},[n.name])}},{title:"课程",name:"courseName"},{title:"科目",name:"subjectName"},{title:"教室",name:"classroom"},{title:"班级负责人",name:"teacherName",width:76},{title:"预招数",name:"plannedStudentCount",width:50},{title:"学生数",name:"studentCount",width:50},{title:"计划课次",name:"plannedLessonCount",width:65},{title:"已上/已排课",width:85,content:function(e){return t("span",[e.overLessonCount," / ",e.scheduleLessonCount])}},{title:"上课进度",content:function(e){return 0==e.scheduleLessonCount?t("span",["未排课"]):t("span",[t("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:parseInt(100*e.overLessonCount/e.scheduleLessonCount),status:e.overLessonCount/e.scheduleLessonCount>=1?"success":"warning"}})])}},{title:"排课备注",name:"remark"},{title:"开班时间",name:"startDate",width:80},{title:"结业时间",name:"endDate",width:80},{title:"状态",width:60,content:function(e){return t("span",[e.beOver?"已结业":"进行中"])}}],actions:[{title:"编辑",click:function(t){e.formVisible=!0,e.formTitle="修改班级信息",e.$refs.cuiDialogForm.initFormData(t)}}],topActions:[{title:"新增",icon:"el-icon-plus",type:"primary",click:function(){e.formVisible=!0,e.formTitle="新增班级",e.$refs.cuiDialogForm.onReset()}},{title:"删除",icon:"el-icon-delete",click:function(){Object(u["c"])(c["c"],e.selectedRows,(function(){return e.handleRequest()}))}},{title:"结业",icon:"el-icon-check",click:function(){s["a"].overClass(e.selectedRows,(function(){return e.handleRequest()}))}}],rowClassName:function(e){var t=e.row;return t.beOver?"warning-row":""}},selectedRows:[],searchConfig:{fields:[{label:"班级名称",name:"name",type:"input"},{label:"课程",name:"courseId",type:"selectBox",code:"course",limit:1},{label:"教室",name:"classroomId",type:"selectBox",code:"classroom",limit:1},{label:"负责人",name:"teacherId",type:"selectBox",code:"teacher",limit:1}]},formConfig:{fields:[{label:"班级名称",name:"name",type:"input"},{label:"课程",name:"courseId",type:"selectBox",code:"course",limit:1},{label:"负责人",name:"teacherId",type:"selectBox",code:"teacher",limit:1},{label:"教室",name:"classroomId",type:"selectBox",code:"classroom",limit:1},{label:"计划开课日期",name:"startDate",type:"date"},{label:"计划结业日期",name:"endDate",type:"date"},{label:"预招人数",name:"plannedStudentCount",type:"number"},{label:"预排课次数",name:"plannedLessonCount",type:"number"},{label:"排课备注",name:"remark",type:"textarea"}],rules:{name:[{required:!0,message:"请输入班级名称"}],courseId:[{required:!0,message:"请选择课程"}],teacherId:[{required:!0,message:"请选择班级负责人"}],plannedStudentCount:[{required:!0,message:"请输入预招人数"}],plannedLessonCount:[{required:!0,message:"请输入预排课次数"}]}},formVisible:!1}},methods:{handleRequest:function(e){e&&Object.assign(this.tableConfig.condition,e),this.$refs.tableBuilder.loadData()},onSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["g"])(t);case 2:n=e.sent,Object(l["a"])(n)&&(this.$refs.cuiDialogForm.onReset(),this.$refs.tableBuilder.loadData());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},m=d,p=n("2877"),f=Object(p["a"])(m,r,a,!1,null,null,null);t["default"]=f.exports},fbf3:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return y}));var r=n("1da1"),a=(n("96cf"),n("b775"));function o(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/class/info",method:"GET",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/class/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/class/delete",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/class/over",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/classStudent/addStudents",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/classStudent/deleteByIds",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/classroom/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e){return R.apply(this,arguments)}function R(){return R=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(a["a"])({url:"/common/classroom/delete",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}},fcd9:function(e,t,n){"use strict";var r=n("cf45"),a=n("2934"),o=n("fbf3");t["a"]={overClass:function(e,t){Object(r["a"])(e,"请先选择班级")&&Object(a["b"])("确认结业班级,并将无剩余课次的学员设为结业学员？",o["f"],e,t)},deleteByIds:function(e,t){Object(r["a"])(e,"请先选择班级")&&Object(a["b"])("确认从班级移出学员",o["b"],e,t)}}}}]);