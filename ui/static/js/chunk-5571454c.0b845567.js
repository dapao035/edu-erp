(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5571454c"],{"24fd":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p}));var r=n("1da1"),i=(n("96cf"),n("b775")),a=n("d282");function o(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:a["a"].orgList,method:"get",params:t}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/org/info",method:"get",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/org/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/org/delete",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},"3e11":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("cui-dialog",{attrs:{title:e.formData.id?"修改员工":"添加员工",visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t},submit:e.formSubmit}},[n("cui-form",{ref:"formRef",attrs:{config:e.formConfig},on:{update:e.formUpdate}})],1)},i=[],a=n("1da1"),o=(n("96cf"),n("cf45")),u=n("9afb"),s=n("ed08"),c={id:"",name:"",mobile:"",birthday:"",gender:"未知",degree:"未知",school:"",hireDate:"",intro:""},l={name:"CreateTeacher",components:{},props:{visible:{type:Boolean,required:!0},orgId:{require:!0}},data:function(){return{lessonSetting:[],formConfig:{fields:[{label:"姓名",name:"name",type:"input"},{label:"电话/登录账号",name:"mobile",type:"input"},{label:"选择职位",name:"positionId",type:"dict",code:"position"},{label:"性别",name:"gender",type:"enum",code:"GenderEnum"},{label:"学历",name:"degree",type:"enum",code:"DegreeEnum"},{label:"生日",name:"birthday",type:"date"},{label:"毕业学校",name:"school",type:"input"},{label:"入职日期",name:"hireDate",type:"date"},{label:"上课费/节",name:"classFee",type:"number",append:"元"},{label:"助教费/节",name:"assistantFee",type:"number",append:"元"},{label:"简介",name:"intro",type:"textarea"},{label:"是否是管理者",name:"isManager",type:"switch",info:"管理者不会出现在师资列表里"}],rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],mobile:[{required:!0,message:"请输入电话",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],positionId:[{required:!0,message:"请选择职位",trigger:"blur"}]}},formData:Object.assign({},c)}},computed:{dialogVisible:{get:function(){return!!this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},methods:{formUpdate:function(e){this.formData=e},formSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object.assign({},this.formData),t.orgId=this.orgId,e.next=4,Object(u["i"])(t);case 4:n=e.sent,Object(s["a"])(n)&&(this.$emit("update:visible",!1),this.$emit("onSubmit"),this.initData(),Object(o["e"])(n.msg,"success"));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),initData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"undefined"==typeof t&&(t=c),setTimeout((function(){n.$refs.formRef.setInitData(t)}),50);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},f=l,p=n("2877"),m=Object(p["a"])(f,r,i,!1,null,null,null);t["a"]=m.exports},"6e6f":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("1da1"),i=(n("96cf"),n("b775"));n("d282");function a(e){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/position/save",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function u(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/position/delete",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(e){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/position/setStaffPosition",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}},8593:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return w})),n.d(t,"c",(function(){return R})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return x})),n.d(t,"n",(function(){return S})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return V})),n.d(t,"g",(function(){return q})),n.d(t,"a",(function(){return P})),n.d(t,"l",(function(){return E}));var r=n("1da1"),i=(n("96cf"),n("b775")),a=n("d282");function o(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:a["a"].rbacPermissionsList,method:"GET",params:t}));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:a["a"].rbacPermissionsByRoleId,method:"GET",params:{roleId:t}}));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/saveRole",method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/deleteRole",method:"POST",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/bindRoleToUsers",method:"POST",params:t}));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e,t){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/batchBindRoleToUsers",method:"POST",data:{roleIds:t,staffIds:n}}));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/deleteRoleUser",method:"POST",params:t}));case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function R(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/rbac/bindPermissionsToRole",method:"POST",params:t}));case 1:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function v(){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/sys/settingList",method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/sys/settingOptions",method:"GET",params:{id:t}}));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return I=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/sys/saveSettingOption",method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function T(e){return C.apply(this,arguments)}function C(){return C=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/sys/settingNoticeList",method:"GET",params:{group:t}}));case 1:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function V(e){return D.apply(this,arguments)}function D(){return D=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/sys/settingNoticeSave",method:"GET",params:t}));case 1:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function q(){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/holiday/list",method:"GET"}));case 1:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function P(e){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/holiday/add/"+t,method:"POST"}));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return N=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])({url:"/common/holiday/delete/"+t,method:"POST"}));case 1:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}},d149:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"min-width":"210px"}},[n("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:10}},[n("el-col",[e.onlyTree?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("添加机构")]),n("div",{staticStyle:{display:"inline-block","margin-left":"6px","max-width":"130px"}},[n("el-input",{attrs:{placeholder:"搜索名称",size:"mini"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("div",{staticStyle:{display:"inline-block","margin-left":"6px"}},[n("el-button",{attrs:{icon:"el-icon-search",circle:"",size:"mini"},on:{click:function(t){return e.handleSearch()}}}),n("el-button",{attrs:{icon:"el-icon-refresh",circle:"",size:"mini"},on:{click:function(t){return e.handleRefresh()}}})],1)],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"id","highlight-current-row":"",lazy:"",load:e.load,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"row-click":e.rowClick}},[n("el-table-column",{attrs:{prop:"name",label:e.onlyTree?"机构列表":"机构名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b",[e._v(" "+e._s(t.row.name)+" ")])]}}])}),e.onlyTree?e._e():n("el-table-column",{attrs:{prop:"level",label:"级别"}}),e.onlyTree?e._e():n("el-table-column",{attrs:{prop:"contactName",label:"联系人"}}),e.onlyTree?e._e():n("el-table-column",{attrs:{prop:"phone",label:"电话"}}),e.onlyTree?e._e():n("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.handleAddChild(t.row)}}},[e._v("添加子机构")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.handleEdit(t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.handleDelete(t.row)}}},[e._v("删除")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.showInfo(t.row.id)}}},[e._v("查看")])]}}],null,!1,3816045926)})],1),n("cui-dialog-form",{ref:"cuiDialogForm",attrs:{title:e.formTitle,formConfig:e.formConfig,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},onSubmit:e.onSubmit}})],1)},i=[],a=n("1da1"),o=(n("96cf"),n("a9e3"),n("b0c0"),n("24fd")),u=n("2934"),s=n("ed08"),c=n("cf45"),l={name:"OrgTree",components:{},props:{onlyTree:{type:Boolean,default:!0},type:{type:Number|String,default:""}},data:function(){return{name:"",tableData:[],parentId:"",formTitle:"",formConfig:{fields:[{label:"机构名",name:"name",type:"input"},{label:"级别",name:"level",type:"enum",code:"OrgLevelEnum",width:"50%"},{label:"简称",name:"shortname",type:"input",width:"50%"},{label:"联系人",name:"contactName",type:"input",width:"50%"},{label:"电话",name:"phone",type:"input",width:"50%"},{label:"传真",name:"fax",type:"input",width:"50%"},{label:"邮箱",name:"email",type:"input",width:"50%"},{label:"排序",name:"sortNum",type:"number",width:"50%"},{label:"状态",name:"state",type:"switch",width:"50%",default:!0},{label:"说明",name:"info",type:"textarea"}],rules:{name:[{required:!0,message:"请输入名称"}],level:[{required:!0,message:"请选择级别"}]},labelWidth:"90px"},formVisible:!1}},mounted:function(){this.handleRequest(0)},methods:{showInfo:function(e){this.$router.push("/teacher/orgDetail?id="+e)},handleSearch:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.name){e.next=3;break}return Object(c["e"])("请输入名称","error"),e.abrupt("return");case 3:return e.next=5,Object(o["b"])({type:this.type,name:this.name});case 5:t=e.sent,this.tableData=t;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleRefresh:function(){this.name="",this.handleRequest(0)},handleRequest:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({pid:t||0,type:this.type,name:this.name});case 2:n=e.sent,this.tableData=n;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),load:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["b"])({pid:t.id});case 2:i=e.sent,r(i);case 4:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}(),handleAdd:function(){this.parentId=0,this.formTitle="新增机构",this.formVisible=!0,this.$refs.cuiDialogForm.onReset()},handleAddChild:function(e){this.parentId=e.id,this.formTitle="新增子机构",this.formVisible=!0,this.$refs.cuiDialogForm.onReset()},handleEdit:function(e){this.parentId=e.pid,this.formTitle="修改机构信息",this.formVisible=!0,this.$refs.cuiDialogForm.initFormData(e)},handleDelete:function(e){var t=this;Object(u["c"])(o["a"],[e],(function(){t.tableData=[],t.handleRequest(0)}))},onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pid=this.parentId,e.next=3,Object(o["d"])(t);case 3:n=e.sent,Object(s["a"])(n)&&(this.$refs.cuiDialogForm.onReset(),this.tableData=[],this.handleRequest(0));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),rowClick:function(e){this.$emit("onSelect",e)}}},f=l,p=n("2877"),m=Object(p["a"])(f,r,i,!1,null,null,null);t["a"]=m.exports},e505:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:5}},[n("OrgTree",{on:{onSelect:e.handleSelectOrg}})],1),n("el-col",{attrs:{span:19}},[n("cui-search",{attrs:{config:e.searchConfig},on:{handleRequest:e.handleRequest}}),n("cui-table",{ref:"tableBuilder",attrs:{config:e.tableConfig,selectedRows:e.selectedRows},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t}}})],1)],1),n("CreateStaff",{ref:"saveStaff",attrs:{orgId:e.orgId,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},onSubmit:function(t){return e.$refs.tableBuilder.loadData()}}}),n("cui-dialog-form",{ref:"changeState",attrs:{title:e.changeStateTitle,formConfig:e.formConfig,visible:e.formVisible},on:{"update:visible":function(t){e.formVisible=t},onSubmit:e.onSubmit}}),n("cui-dialog-form",{ref:"putinStaff",attrs:{title:"转入员工",formConfig:e.formConfig2,visible:e.formVisible2},on:{"update:visible":function(t){e.formVisible2=t},onSubmit:e.onSubmit2}}),n("cui-dialog-form",{ref:"putoutStaff",attrs:{title:"转出员工",formConfig:e.formConfig5,visible:e.formVisible5},on:{"update:visible":function(t){e.formVisible5=t},onSubmit:e.onSubmit5}}),n("cui-dialog-form",{ref:"setRole",attrs:{title:"设置权限",formConfig:e.formConfig3,visible:e.formVisible3},on:{"update:visible":function(t){e.formVisible3=t},onSubmit:e.onSubmit3}}),n("cui-dialog-form",{ref:"setPassword",attrs:{title:"重置密码",formConfig:e.formConfig4,visible:e.formVisible4},on:{"update:visible":function(t){e.formVisible4=t},onSubmit:e.onSubmit4}})],1)},i=[],a=n("1da1"),o=n("b85c"),u=(n("96cf"),n("b0c0"),n("ac1f"),n("1276"),n("d81d"),n("d282")),s=n("cf45"),c=n("2934"),l=n("9afb"),f={deleteTeacher:function(e,t){Object(s["a"])(e,"请先选择")&&Object(c["b"])("该操作会永久删除,请谨慎操作!",l["d"],e,t)}},p=n("3e11"),m=n("ed08"),d=n("6e6f"),h=n("8593"),b=n("d149"),g={name:"TeacherList",components:{CreateStaff:p["a"],OrgTree:b["a"]},props:{},data:function(){var e=this,t=this.$createElement;return{orgId:"",staffId:"",dialogVisible:!1,tableConfig:{url:u["a"].teacherList,selectable:!0,condition:{orgId:this.orgId},autoLoad:!1,fields:[{title:"姓名",width:"80px",content:function(n){return t("span",{class:"text-link",on:{click:function(){return e.$router.push("/teacher/profile?id="+n.id)}}},[n.name])}},{title:"电话/登录账户",name:"mobile"},{title:"所属机构",content:function(e){return t("span",[e.groupName," ",e.comName," ",e.dptName])}},{title:"性别",name:"gender"},{title:"职位",name:"positionName"},{title:"权限角色",name:"roleName"},{title:"入职日期",name:"hireDate"},{title:"状态",name:"state"}],actions:[{title:"编辑",click:function(t){e.dialogVisible=!0,e.$refs.saveStaff.initData(t)}},{title:"改密",alt:"修改登录密码",click:function(t){e.staffId=t.id,e.formVisible4=!0}}],topActions:[{title:"添加员工",icon:"el-icon-plus",type:"primary",click:function(){""!=e.orgId?(e.$refs.saveStaff.initData(),e.dialogVisible=!0):Object(s["e"])("请选择左侧机构")}},{title:"设置角色",icon:"el-icon-s-check",click:function(){0!=e.selectedRows.length?e.formVisible3=!0:Object(s["e"])("未选择人员","error")}},{title:"删除",icon:"el-icon-delete",click:function(){f.deleteTeacher(e.selectedRows,(function(){return e.handleRequest()}))}},{title:"转出",icon:"el-icon-plus",click:function(){""!=e.orgId?0!=e.selectedRows.length?e.formVisible5=!0:Object(s["e"])("未选择人员","error"):Object(s["e"])("请选择机构")}},{title:"转为离职",icon:"el-icon-refresh",click:function(){e.changeState("离职")}},{title:"转为在职",icon:"el-icon-refresh",click:function(){e.changeState("在职")}}]},selectedRows:[],searchConfig:{fields:[{label:"搜索",name:"keyword",type:"input",placeholder:"姓名或手机号"},{label:"状态",name:"state",type:"enum",code:"StaffStateEnum"}]},formConfig:{fields:[{label:"办理日期",name:"date",type:"date"},{label:"状态",name:"state",type:"enum",code:"StaffStateEnum"}],rules:{date:[{required:!0,message:"请选择日期"}]}},formVisible:!1,changeStateTitle:"",formConfig2:{fields:[{label:"选择员工",name:"staffIds",type:"selectBox",code:"staff"}],rules:{staffIds:[{required:!0,message:"请选择员工"}]}},formVisible2:!1,formConfig5:{fields:[{label:"选择转入机构",name:"orgId",type:"selectBox",code:"org",limit:1}],rules:{staffIds:[{required:!0,message:"请选择机构"}]}},formVisible5:!1,formConfig3:{fields:[{label:"选择权限角色",name:"roles",type:"multiselect",code:"role"}],rules:{roles:[{required:!0,message:"请选择角色"}]}},formVisible3:!1,formConfig4:{fields:[{label:"输入新密码",name:"password",type:"input"}],rules:{password:[{required:!0,message:"请输入密码"}]}},formVisible4:!1,formConfig6:{fields:[{label:"选择职位",name:"positionId",type:"dict",code:"position"}],rules:{positionId:[{required:!0,message:"请选择职位"}]}},formVisible6:!1}},methods:{showInfo:function(e){this.$router.push("/teacher/profile?id="+e)},handleRequest:function(e){e&&Object.assign(this.tableConfig.condition,e),this.$refs.tableBuilder.loadData()},changeState:function(e){if(this.changeStateTitle="转为"+e,0!=this.selectedRows.length){var t,n=[],r=Object(o["a"])(this.selectedRows);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.id)}}catch(u){r.e(u)}finally{r.f()}this.formVisible=!0;var a={id:n,state:e,date:Object(m["d"])(new Date,"yyyy-MM-dd")};this.$refs.changeState.initFormData(a)}else Object(s["e"])("请先选择")},onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])(t);case 2:n=e.sent,Object(m["a"])(n)&&(this.$refs.changeState.onReset(),this.handleRequest());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onSubmit2:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["f"])({orgId:this.orgId,staffIds:t.staffIds.split(",")});case 2:n=e.sent,Object(m["a"])(n)&&(this.$refs.putinStaff.onReset(),this.handleRequest());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onSubmit5:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("undefined"!=typeof t.orgId){e.next=3;break}return Object(s["e"])("请先选择机构"),e.abrupt("return");case 3:if(0!=this.selectedRows.length){e.next=6;break}return Object(s["e"])("请先选择员工"),e.abrupt("return");case 6:n=[],r=Object(o["a"])(this.selectedRows);try{for(r.s();!(i=r.n()).done;)a=i.value,n.push(a.id)}catch(c){r.e(c)}finally{r.f()}return e.next=11,Object(l["g"])({orgId:t.orgId,staffIds:n});case 11:u=e.sent,Object(m["a"])(u)&&(this.$refs.putoutStaff.onReset(),this.handleRequest());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onSubmit6:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={staffId:this.staffId,positionId:t.positionId,orgId:this.orgId},e.next=3,Object(d["c"])(n);case 3:r=e.sent,Object(m["a"])(r)&&(this.$refs.setPosition.onReset(),this.handleRequest());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSelectOrg:function(e){this.tableConfig.condition.orgId=e.id,this.orgId=e.id,this.handleRequest()},onSubmit3:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.selectedRows.length){e.next=3;break}return Object(s["e"])("未选择人员","error"),e.abrupt("return");case 3:if(0!=t.roles.length){e.next=6;break}return Object(s["e"])("未选择角色","error"),e.abrupt("return");case 6:return n=this.selectedRows.map((function(e){return e.id})),e.next=9,Object(h["b"])(t.roles,n);case 9:r=e.sent,Object(m["a"])(r)&&(Object(s["e"])("已提交"),this.$refs.setRole.onReset(),this.handleRequest());case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onSubmit4:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.staffId){e.next=3;break}return Object(s["e"])("未选择人员","error"),e.abrupt("return");case 3:if(""!=t.password){e.next=6;break}return Object(s["e"])("未设置密码","error"),e.abrupt("return");case 6:return e.next=8,Object(l["b"])({id:this.staffId,password:t.password});case 8:n=e.sent,Object(m["a"])(n)&&(Object(s["e"])("密码设置成功"),this.$refs.setPassword.onReset(),this.handleRequest(),this.staffId="");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},w=g,y=n("2877"),R=Object(y["a"])(w,r,i,!1,null,null,null);t["default"]=R.exports}}]);