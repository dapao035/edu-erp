(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f260b274"],{"57d6":function(t,e,n){"use strict";var r=n("ed08");e["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(r["f"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"5b69":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return v})),n.d(e,"h",(function(){return x}));var r=n("1da1"),a=(n("96cf"),n("b775"));function i(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/newStudentCounts",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function o(t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/courseSaleByDay",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/courseSalesTotal",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/teacherLessonTotal",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/studentLessonCounts",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/dashboardCounts",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/funnel",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/studentAgeStatis",method:"GET"}));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function x(t){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a["a"])({url:"/common/statis/teachEvaluationStatis",method:"GET",params:e}));case 1:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}},"736f":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"padding"},[n("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"15px"}},[n("el-col",{attrs:{span:16}},[n("h5",[t._v("销售漏斗模型")]),n("SaleFunnel")],1),n("el-col",{attrs:{span:8}},[n("h5",[t._v("在学学员年龄构成")]),n("StudentAgeStatis")],1)],1),n("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"15px"}},[n("h5",[t._v("本月新线索走势 "),n("div",{staticStyle:{float:"right"}},[n("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handleChange2},model:{value:t.daterange2,callback:function(e){t.daterange2=e},expression:"daterange2"}})],1)]),n("NewStudentChart",{ref:"newStudentChart"})],1),n("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"15px"}},[n("h5",[t._v("学员课次数排行(前20) "),n("div",{staticStyle:{float:"right"}},[n("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handleChange1},model:{value:t.daterange1,callback:function(e){t.daterange1=e},expression:"daterange1"}})],1)]),n("StudentLessonCounts",{ref:"studentLessonCounts"})],1)],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},s=[],o=n("1da1"),u=(n("96cf"),n("313e")),c=n.n(u),l=n("57d6"),h=n("5b69"),d=n("ed08");n("817d");var p={mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0}},data:function(){return{chart:null,xData:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["d"])(e);case 2:n=t.sent,r=Object(d["i"])(n,"dates"),a=Object(d["i"])(n,"total_count"),this.chart=c.a.init(this.$el,"macarons"),this.setOptions(r,a);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setOptions:function(t,e){this.chart.setOption({xAxis:{axisLabel:{interval:0},data:t,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},series:[{itemStyle:{normal:{color:"#f3f8ff",lineStyle:{color:"#FF005A",width:2}}},label:{show:!0},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"}]})}}},f=p,m=n("2877"),g=Object(m["a"])(f,i,s,!1,null,null,null),b=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},v=[],w=n("b85c");n("817d");var x={mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0}},data:function(){return{chart:null,xData:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["e"])(e);case 2:n=t.sent,r=[0,0,0,0,0,0],a=Object(w["a"])(n);try{for(a.s();!(i=a.n()).done;)s=i.value,10==s.stage?r[0]=s.num:20==s.stage?r[1]=s.num:30==s.stage?r[2]=s.num:40==s.stage?r[3]=s.num:50==s.stage?r[4]=s.num:60==s.stage&&(r[5]=s.num)}catch(o){a.e(o)}finally{a.f()}this.chart=c.a.init(this.$el,"macarons"),this.setOptions(r);case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setOptions:function(t){console.log(t),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{dataView:{readOnly:!1}}},legend:{data:["目标客户阶段","潜在客户阶段","意向阶段","认可阶段","签约阶段","售后阶段"]},series:[{name:"漏斗图",type:"funnel",left:"10%",min:0,minSize:"0%",maxSize:"100%",sort:"none",gap:2,label:{show:!0,position:"inside"},labelLine:{length:10,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{fontSize:20}},data:[{value:t[0],name:"目标客户阶段"},{value:t[1],name:"潜在客户阶段"},{value:t[2],name:"意向阶段"},{value:t[3],name:"认可阶段"},{value:t[4],name:"签约阶段"},{value:t[5],name:"售后阶段"}]}]})}}},O=x,S=Object(m["a"])(O,y,v,!1,null,null,null),R=S.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},$=[];n("817d");var E=6e3,j={mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["g"])(e);case 2:n=t.sent,r=Object(d["i"])(n,"student_name"),a=Object(d["i"])(n,"total_count"),this.chart=c.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{axisLabel:{interval:0},type:"category",data:r,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{label:{show:!0},type:"bar",stack:"vistors",barWidth:"60%",data:a,animationDuration:E}]});case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},k=j,z=Object(m["a"])(k,_,$,!1,null,null,null),C=z.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:{height:t.height,width:t.width}})},L=[];n("817d");var D={mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0}},data:function(){return{chart:null,xData:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["f"])(e);case 2:n=t.sent,console.log(n),this.chart=c.a.init(this.$el,"macarons"),this.setOptions(n);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setOptions:function(t){this.chart.setOption({tooltip:{trigger:"item"},toolbox:{feature:{dataView:{readOnly:!1}}},legend:{left:"left"},series:[{name:"年龄构成",type:"pie",radius:"50%",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},N=D,G=Object(m["a"])(N,T,L,!1,null,null,null),A=G.exports,H={name:"StudentStatis",components:{NewStudentChart:b,StudentLessonCounts:C,StudentAgeStatis:A,SaleFunnel:R},props:{},data:function(){return{daterange1:[],daterange2:[]}},methods:{handleChange1:function(t){this.$refs["studentLessonCounts"].initChart({startDate:t[0],endDate:t[1]})},handleChange2:function(t){this.$refs["newStudentChart"].initChart({startDate:t[0],endDate:t[1]})}}},B=H,F=Object(m["a"])(B,r,a,!1,null,"142314e0",null);e["default"]=F.exports}}]);